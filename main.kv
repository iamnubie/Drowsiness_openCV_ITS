ScreenManager:
    MenuScreen:
    CameraScreen:

<MenuScreen>:
    name: "menu"

    FloatLayout:
        # Hình nền nửa trên
        Image:
            source: "logo_uth.png"
            allow_stretch: True
            keep_ratio: False
            size_hint: 1, 0.5
            pos_hint: {"x": 0, "top": 1}

        BoxLayout:
            orientation: "vertical"
            spacing: 20
            padding: [50, 15, 50, 50]
            size_hint: 1, 1
            pos_hint: {"top": 1}

            Label:
                text: "HỆ THỐNG PHÁT HIỆN NGỦ GẬT"
                font_size: 24
                color: 0, 0, 0, 1  # chữ đen
                size_hint_y: None
                height: "40dp"

            Widget:
                size_hint_y: 1

            Button:
                text: "Khởi động"
                font_size: 20
                size_hint_y: None
                height: "60dp"
                on_press:
                    app.root.current = "camera"
                    app.root.get_screen("camera").ids.camlayout.start_detect()

<CameraScreen>:
    name: "camera"

    CamLayout:
        id: camlayout

<CamLayout>:
    orientation: 'vertical'

    Image:
        id: camera_view
        allow_stretch: True
        keep_ratio: True

    Label:
        id: status_label
        text: "EAR: --"
        font_size: 20
        size_hint_y: None
        height: "50dp"

    Button:
        text: "Quay về trang chủ"
        size_hint_y: None
        height: "50dp"
        font_size: 18
        on_press:
            root.stop_detect()
            app.root.current = "menu"
