ScreenManager:
    MenuScreen:
        name: "menu"
    CameraScreen:
        name: "camera"

<MenuScreen>:
    name: "menu"
    BoxLayout:
        orientation: "vertical"
        spacing: 20
        padding: 50

        Label:
            text: "HỆ THỐNG PHÁT HIỆN NGỦ GẬT"
            font_size: 28

        Button:
            text: "Khởi động"
            font_size: 20
            on_press:
                app.root.current = "camera"
                app.root.get_screen("camera").ids.camlayout.start_detect()
        Button:
            text: "Chọn ảnh từ máy"
            font_size: 20
            on_press:
                root.open_image_chooser()

<CameraScreen>:
    name: "camera"

    CamLayout:
        id: camlayout

<CamLayout>:
    orientation: 'vertical'

    Image:
        id: camera_view
        allow_stretch: True
        keep_ratio: True

    Label:
        id: status_label
        text: "EAR: --"
        font_size: 20
        size_hint_y: None
        height: "50dp"

    Button:
        text: "Quay về trang chính"
        size_hint_y: None
        height: "50dp"
        font_size: 18
        on_press: root.back_to_menu()
